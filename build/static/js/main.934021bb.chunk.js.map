{
  "version": 3,
  "sources": ["Book/index.tsx", "index.js"],
  "names": [
    "Book",
    "props",
    "_this",
    "Object",
    "classCallCheck",
    "this",
    "possibleConstructorReturn",
    "getPrototypeOf",
    "call",
    "handleAdvancePage",
    "currentSpread",
    "state",
    "setState",
    "direction",
    "handleBackPage",
    "_props$bookSpread",
    "bookSpread",
    "stateBookText",
    "_this$state",
    "_this$props",
    "coverImage",
    "_this$props$bookText",
    "bookText",
    "spreads",
    "backCover",
    "react_default",
    "a",
    "createElement",
    "className",
    "coverVisibleStyles",
    "transform",
    "zIndex",
    "bookVisibleStyles",
    "left",
    "howManySpreads",
    "length",
    "spreadNumbers",
    "Math",
    "round",
    "pages",
    "i",
    "frontPageNumber",
    "backPageNumber",
    "frontPageScroll",
    "maxVmin",
    "backPageScroll",
    "flipping",
    "pageZIndex",
    "StyledScrolledFront",
    "styled",
    "div",
    "_templateObject",
    "StyledScrolledBack",
    "_templateObject2",
    "abs",
    "push",
    "key",
    "data-spread",
    "style",
    "data-page",
    "onClick",
    "react_markdown_default",
    "source",
    "objectSpread",
    "backgroundImage",
    "Component",
    "__webpack_require__",
    "d",
    "__webpack_exports__",
    "src_Book"
  ],
  "mappings": "6gBA+IeA,cAxIb,SAAAA,EAAYC,GAAiB,IAAAC,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,IAC3BE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAH,GAAAQ,KAAAH,KAAMJ,KAURQ,kBAAoB,WAAM,IAClBC,EAAkBR,EAAKS,MAAvBD,cAENR,EAAKU,SAAS,CACZF,cAAeA,GAAiB,EAChCG,UAAW,aAhBcX,EAmB7BY,eAAiB,WAAM,IACfJ,EAAkBR,EAAKS,MAAvBD,cAEFA,EAAgB,GAClBR,EAAKU,SAAS,CACZF,cAAeA,GAAiB,EAChCG,UAAW,UAzBY,IAAAE,EAGAd,EAAnBe,kBAHmB,IAAAD,EAGN,EAHMA,EAAA,OAK3Bb,EAAKS,MAAQ,CACXD,cAAeM,EACfH,UAAW,UACXI,cAAe,IARUf,wEAgD3B,IAnBO,IAAAgB,EAC6Cb,KAAKM,MAAjDD,EADDQ,EACCR,cAAeG,EADhBK,EACgBL,UAAWI,EAD3BC,EAC2BD,cAD3BE,EAEmDd,KAAKJ,MAAvDmB,EAFDD,EAECC,WAFDC,EAAAF,EAEaG,gBAFb,IAAAD,EAEwBJ,EAFxBI,EAEuCE,EAFvCJ,EAEuCI,QAExCC,EACJC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sBACfH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,wBAIbC,EACJnB,EAAgB,EAAI,CAAEoB,UAAW,mBAAoBC,OAAQ,GAAM,GAC/DC,EAAoBtB,EAAgB,EAAI,CAAEuB,KAAM,UAAa,GAE7DC,EAAiBX,GAAWD,EAASa,OAAS,KAC9CC,EAAgBC,KAAKC,MAAMJ,GAC3BK,EAAQ,GAELC,EAAI,EAAGA,EAAIJ,EAAeI,GAAK,EAAG,CACzC,IAGMC,EAAsB,EAAJD,IAAU,EAAQ,EAAJA,EAAQ,EAAI,EAC5CE,EAAiBD,EAAkB,EACnCE,EAAkBC,IAAcJ,EAAI,GACpCK,EAAiBF,EANP,GAMmC,GAG7CG,EAAWpC,IAAkB8B,EAAI,WARpB9B,EAAgB,EAON8B,EAAI,UAAY,UASvCO,EACU,YAAdlC,EAJ+B,YAAbiC,EAAyB,EAHZ,YAAbA,EAAyB,EAAI,EAIf,YAAbA,EAAyB,EAHZ,YAAbA,EAAyB,EAAI,EAQ5CE,EAAsBC,IAAOC,IAAVC,IAENR,GAIbS,EAAqBH,IAAOC,IAAVG,IAELR,GAIKR,KAAKiB,IAAI5C,EAAgB8B,GAE3B,GAEpBD,EAAMgB,KACJ9B,EAAAC,EAAAC,cAAA,OACE6B,IAAK,SAAWhB,EAChBZ,UAAW,kBAAoBkB,EAC/BW,cAAajB,EACbkB,MAAO,CAAE3B,OAAQgB,IAEjBtB,EAAAC,EAAAC,cAAA,OACEC,UAAU,aACV+B,YAAWlB,EACXmB,QAASvD,KAAKI,mBAEdgB,EAAAC,EAAAC,cAACqB,EAAD,KACEvB,EAAAC,EAAAC,cAACkC,EAAAnC,EAAD,CAAeE,UAAU,eAAekC,OAAQxC,MAGpDG,EAAAC,EAAAC,cAAA,OACEC,UAAU,YACV+B,YAAWjB,EACXkB,QAASvD,KAAKS,gBAEdW,EAAAC,EAAAC,cAACyB,EAAD,KACE3B,EAAAC,EAAAC,cAACkC,EAAAnC,EAAD,CAAeE,UAAU,eAAekC,OAAQxC,QAQ5D,OACEG,EAAAC,EAAAC,cAAA,OACEC,UAAU,iBACV6B,cAAa/C,EACbgD,MAAKvD,OAAA4D,EAAA,EAAA5D,CAAA,GAAO6B,IAEZP,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cAAc8B,MAAKvD,OAAA4D,EAAA,EAAA5D,CAAA,GAAO0B,IACvCJ,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kBACfH,EAAAC,EAAAC,cAAA,OACEC,UAAU,sBACV8B,MAAO,CAAEM,gBAAiB,OAAS5C,EAAa,OAElDK,EAAAC,EAAAC,cAAA,OAAKC,UAAU,qBAAqBgC,QAASvD,KAAKS,kBAEnDyB,EACAf,UAnIUyC,aCNnBC,EAAAC,EAAAC,EAAA,yBAAAC",
  "file": "static/js/main.934021bb.chunk.js",
  "sourcesContent": [
    "import React, { Component } from \"react\";\nimport ReactMarkdown from \"react-markdown\";\nimport \"./book.css\";\nimport { BookProps, BookState } from \"./types\";\nimport styled from \"styled-components\";\n\nclass Book extends Component<BookProps, BookState> {\n  constructor(props:BookProps) {\n    super(props);\n\n    const { bookSpread = 0 } = props;\n\n    this.state = {\n      currentSpread: bookSpread,\n      direction: \"forward\",\n      stateBookText: \"\"\n    };\n  }\n  handleAdvancePage = () => {\n    let { currentSpread } = this.state;\n\n    this.setState({\n      currentSpread: currentSpread += 1,\n      direction: \"forward\"\n    });\n  };\n  handleBackPage = () => {\n    let { currentSpread } = this.state;\n\n    if (currentSpread > 0) {\n      this.setState({\n        currentSpread: currentSpread -= 1,\n        direction: \"back\"\n      });\n    }\n  };\n  render() {\n    const { currentSpread, direction, stateBookText } = this.state;\n    const { coverImage, bookText = stateBookText, spreads } = this.props;\n\n    const backCover = (\n      <div className=\"back-cover\">\n        <div className=\"back-cover-inside\" />\n        <div className=\"back-cover-outside\" />\n      </div>\n    );\n\n    const coverVisibleStyles =\n      currentSpread > 0 ? { transform: \"rotateY(-180deg)\", zIndex: 1 } : {};\n    const bookVisibleStyles = currentSpread > 0 ? { left: \"45vmin\" } : {};\n\n    const howManySpreads = spreads || bookText.length / 1800;\n    const spreadNumbers = Math.round(howManySpreads);\n    const pages = [];\n\n    for (let i = 0; i < spreadNumbers; i += 1) {\n      const maxVmin = 54;\n      const nextSpread = currentSpread + 1;\n\n      const frontPageNumber = i * 2 !== 0 ? i * 2 + 1 : 1;\n      const backPageNumber = frontPageNumber + 1;\n      const frontPageScroll = maxVmin * 2 * i + 0.1;\n      const backPageScroll = frontPageScroll + maxVmin - 0.1;\n\n      const flipped = nextSpread > i ? \"flipped\" : \"to_flip\";\n      const flipping = currentSpread === i ? \"flipping\" : flipped;\n\n      let forwardToFlip = flipping === \"to_flip\" ? 0 : 1;\n      let backwardToFlip = flipping === \"to_flip\" ? 1 : 2;\n\n      let forwardZIndex = flipping === \"flipped\" ? 2 : forwardToFlip;\n      let backwardZIndex = flipping === \"flipped\" ? 1 : backwardToFlip;\n\n      const pageZIndex =\n        direction === \"forward\" ? forwardZIndex : backwardZIndex;\n\n      const StyledScrolledFront = styled.div`\n        .book-insides {\n          margin-top: -${frontPageScroll}vmin;\n        }\n      `;\n\n      const StyledScrolledBack = styled.div`\n        .book-insides {\n          margin-top: -${backPageScroll}vmin;\n        }\n      `;\n\n      const adjacentSpreads = Math.abs(currentSpread - i);\n\n      if (adjacentSpreads < 3) {\n        // helps with performance!\n        pages.push(\n          <div\n            key={\"spread\" + i}\n            className={\"page-container \" + flipping}\n            data-spread={i}\n            style={{ zIndex: pageZIndex }}\n          >\n            <div\n              className=\"front page\"\n              data-page={frontPageNumber}\n              onClick={this.handleAdvancePage}\n            >\n              <StyledScrolledFront>\n                <ReactMarkdown className=\"book-insides\" source={bookText} />\n              </StyledScrolledFront>\n            </div>\n            <div\n              className=\"back page\"\n              data-page={backPageNumber}\n              onClick={this.handleBackPage}\n            >\n              <StyledScrolledBack>\n                <ReactMarkdown className=\"book-insides\" source={bookText} />\n              </StyledScrolledBack>\n            </div>\n          </div>\n        );\n      }\n    }\n\n    return (\n      <div\n        className=\"book-container\"\n        data-spread={currentSpread}\n        style={{ ...bookVisibleStyles }}\n      >\n        <div className=\"front-cover\" style={{ ...coverVisibleStyles }}>\n          <div className=\"bottom-corner\" />\n          <div\n            className=\"front-cover-outside\"\n            style={{ backgroundImage: \"url(\" + coverImage + \")\" }}\n          />\n          <div className=\"front-cover-inside\" onClick={this.handleBackPage} />\n        </div>\n        {pages}\n        {backCover}\n      </div>\n    );\n  }\n}\n\nexport default Book;\n",
    "export { default as Book } from \"./Book\";\n"
  ],
  "sourceRoot": ""
}
